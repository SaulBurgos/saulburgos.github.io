<html>

<head>
	<script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
	<script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v4.1.3/dist/aframe-extras.min.js"></script>
</head>

<script>
	function load1 () {
		var person = document.querySelector('#person');
		var dummyBox = document.querySelector('#dummyBox');

		person.addEventListener('click',function(evt){
			console.log('Click on person');
			dummyBox.emit('clickPerson')
		});

		person.addEventListener('fusing',function(){
			console.log('fusing');
		});

		person.addEventListener('mousedown',function(){
			console.log('mousedown');
		});

		person.addEventListener('mouseenter',function(){
			console.log('mouseenter');
		});

		person.addEventListener('mouseleave',function(){
			console.log('mouseleave');
		});

		person.addEventListener('mouseup',function(){
			console.log('mouseup');
		});
		
		console.log(document.querySelector('a-assets').fileLoader);
	}

	window.onload = load1;
</script>

<body>
	<a-scene>			
		

		<a-assets>
			<a-asset-item
			src="https://s3.amazonaws.com/gurivr/23f1972f-99c6-4f68-a0f0-392c16a02333-trees.dae" 
			id="bosque">				
			</a-asset-item>	
			<a-asset-item src="https://ucarecdn.com/800bc582-4e80-46fe-b5a9-598513a68db4/" 
			id="caballero"></a-asset-item>
		</a-assets>

		<a-camera position="0 1 0">
			<a-cursor ></a-cursor>
		</a-camera>
		
		<a-box id="dummyBox" position="0.6 0 -4" color="red">
			<a-animation attribute="rotation" 
			from="0 45 0" 
			to="0 180 0" 
			begin="clickPerson"></a-animation>
		</a-box>

		<a-entity id="person" ply-model="src:#caballero" 
		rotation="-90 0 0" position="0 0 -5" scale="0.1 0.1 0.1"></a-entity>
		<a-plane color="#CCC" height="20" width="20" rotation="-90 0 0"></a-plane>
		<a-collada-model src="#bosque"></a-collada-model>
		<a-sky color="skyblue"></a-sky>
	</a-scene>
</body>

</html>