<html>

<head>
	<script src="https://aframe.io/releases/0.9.0/aframe.min.js"></script>	
	<script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v6.0.0/dist/aframe-extras.min.js"></script>	
</head>

<style>
	#msg {
		position: absolute;
		top: 0;
		bottom: 0;
		left: 0;
		margin-left: auto;
		margin-right: auto;
		width: 180px;
		height: 115px;
		z-index: 2;
		box-shadow: 1px 1px 5px 3px #000000cc;
		border-radius: 6px;
		color: white;
		margin: 10px;
		padding: 10px;
		font-family: sans-serif;
		/* text-shadow: 0px 0px 1px black; */
		font-size: 16px;
		font-weight: bold;
		background-color: #009688;
		text-align: center;
	}
</style>

<body onload="">
	<div id="msg">
		Matterport Scan imported in DiveIn. place the green circle in front the elements on the floor
	</div>

	<a-scene>
		<a-assets>
		  <a-asset-item id="tree-obj" src="http://localhost:8080/assets/modelReduce/1-S-Market-Mech-Penthouse.obj"></a-asset-item>
		  <a-asset-item id="tree-mtl" src="http://localhost:8080/assets/modelReduce/1-S-Market-Mech-Penthouse.mtl"></a-asset-item>

		  <!-- <a-asset-item id="tree-obj" src="https://raw.githubusercontent.com/SaulBurgos/saulburgos.github.io/master/practices/2019/aframe/assets/modelReduce/1-S-Market-Mech-Penthouse.gltf"></a-asset-item>		  
		  <a-asset-item id="tree-mtl" src="https://raw.githubusercontent.com/SaulBurgos/saulburgos.github.io/master/practices/2019/aframe/assets/modelReduce/1-S-Market-Mech-Penthouse.mtl"></a-asset-item> -->

		  <!-- <a-asset-item id="tree-obj" src="https://saulbpano.s3-us-west-2.amazonaws.com/panoramas/1/dummy/1-S-Market-Mech-Penthouse.gltf"></a-asset-item>
		  <a-asset-item id="tree-mtl" src="https://saulbpano.s3-us-west-2.amazonaws.com/panoramas/1/dummy/1-S-Market-Mech-Penthouse.mtl"></a-asset-item> -->
		</a-assets>

		<!-- <a-entity id="rig" position="0.16438 1.6 0.87608">
			<a-entity id="camera" camera look-controls wasd-controls="acceleration:5" ></a-entity>
		</a-entity> -->
		
		<a-entity id="rig"  movement-controls="controls: checkpoint;" checkpoint-controls="mode: animate;animateSpeed:4">
			<a-entity camera look-controls="pointerLockEnabled: false" position="0 1.6 0">
					
					<!-- <a-entity cursor="fuse: true; fuseTimeout: 500"
						position="0 0 -1"
						geometry="primitive: ring; radiusInner: 0.05; radiusOuter: 0.08"
						material="color: #00ff00; shader: flat">
					</a-entity>	 -->
					
					<a-entity
						animation__click="property: scale; startEvents: click; easing: easeInCubic; dur: 150; from: 0.1 0.1 0.1; to: 1 1 1"
						animation__fusing="property: scale; startEvents: fusing; easing: easeInCubic; dur: 1500; from: 1 1 1; to: 0.1 0.1 0.1"
						animation__mouseleave="property: scale; startEvents: mouseleave; easing: easeInCubic; dur: 500; to: 1 1 1"
						cursor="fuse: true;"
						material="color: #00ff00; shader: flat"
						position="0 0 -1"
						geometry="primitive: ring; radiusInner: 0.05; radiusOuter: 0.08;">
					</a-entity>
			</a-entity>
		</a-entity>

		 <!-- Checkpoints -->
		 <a-entity position="1 0 1">
			<a-cylinder checkpoint="" radius="0.25" height="0.1" position="-2.90989 0 0.01236" color="red" material="" geometry=""></a-cylinder>		
			<a-cylinder checkpoint="" radius="0.2" height="0.1" position="-2.71992 0 -1.7072" color="red" material="" geometry="radius: 0.2"></a-cylinder>
			<a-cylinder checkpoint="" radius="0.2" height="0.1" position="-4.67199 0 -1.61891" color="red" material="" geometry=""></a-cylinder>
			<a-cylinder checkpoint="" radius="0.2" height="0.1" position="-6.86708 0 -1.73696" color="red" material="" geometry=""></a-cylinder>
			<a-cylinder checkpoint="" radius="0.2" height="0.1" position="-8.47403 0 -0.96842" color="red" material="" geometry=""></a-cylinder>
			<a-cylinder checkpoint="" radius="0.2" height="0.1" position="-10.97654 0 -1.01356" color="red" material="" geometry=""></a-cylinder>	
			<a-cylinder checkpoint="" radius="0.2" height="0.1" position="-13.13063 0.17747 -1.15927" color="red" material="" geometry=""></a-cylinder>	
		</a-entity>
	 
		<a-entity obj-model="obj: #tree-obj; mtl: #tree-mtl" position="0 0 0.68205" rotation="-90 0"></a-entity>

	 </a-scene>
</body>

</html>

